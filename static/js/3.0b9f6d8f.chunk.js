(this["webpackJsonpsocial-site"]=this["webpackJsonpsocial-site"]||[]).push([[3],{293:function(e,t,a){e.exports={ProfileInfo:"Profileinfo_ProfileInfo__2rKLf",logo:"Profileinfo_logo__iGagM",status:"Profileinfo_status__2w7Qr",settings:"Profileinfo_settings__1nDfT"}},294:function(e,t,a){e.exports={addPost:"Posts_addPost__1nbsT",posts:"Posts_posts__24Eqp",postsBlock:"Posts_postsBlock__NOCs4"}},296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(35),r=a(36),s=a(38),o=a(37),i=a(0),l=a.n(i),u=a(296),c=a.n(u),p=a(293),m=a.n(p),f=a(102),d=a.n(f);var h=a(101);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}}(e,t)||Object(h.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var t=b(Object(i.useState)(!1),2),a=t[0],n=t[1],r=b(Object(i.useState)(e.status),2),s=r[0],o=r[1];return Object(i.useEffect)((function(){o(e.status)}),[e.status]),l.a.createElement("div",{className:m.a.status},a?l.a.createElement("div",null,l.a.createElement("textarea",{onChange:function(e){o(e.currentTarget.value)},type:"text",value:s,autoFocus:!0}),l.a.createElement("button",{onClick:function(){n(!1),e.updateStatus(s)}},"Save")):l.a.createElement("p",{onDoubleClick:e.isOwner&&function(){n(!0)}},e.status?e.status:e.isOwner?"Set your status":""))},E=a(11),v=function(e){return l.a.createElement("div",{className:m.a.ProfileInfo},l.a.createElement("div",{className:m.a.logo},l.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:d.a,alt:""})),l.a.createElement("div",{className:m.a.description},l.a.createElement(g,{status:e.status,isOwner:e.isOwner,updateStatus:e.updateStatus}),l.a.createElement("h2",null,e.profile.fullName)),e.isOwner&&l.a.createElement(E.b,{to:"settings",className:m.a.settings},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"transparent",display:"block"},width:"30px",height:"30px",viewBox:"0 0 100 100"},l.a.createElement("g",{transform:"translate(50 50)"},l.a.createElement("g",null,l.a.createElement("path",{d:"M29.491524206117255 -5.5 L37.491524206117255 -5.5 L37.491524206117255 5.5 L29.491524206117255 5.5 A30 30 0 0 1 24.742744050198738 16.964569457146712 L24.742744050198738 16.964569457146712 L30.399598299691117 22.621423706639092 L22.621423706639096 30.399598299691114 L16.964569457146716 24.742744050198734 A30 30 0 0 1 5.5 29.491524206117255 L5.5 29.491524206117255 L5.5 37.491524206117255 L-5.499999999999997 37.491524206117255 L-5.499999999999997 29.491524206117255 A30 30 0 0 1 -16.964569457146705 24.742744050198738 L-16.964569457146705 24.742744050198738 L-22.621423706639085 30.399598299691117 L-30.399598299691117 22.621423706639092 L-24.742744050198738 16.964569457146712 A30 30 0 0 1 -29.491524206117255 5.500000000000009 L-29.491524206117255 5.500000000000009 L-37.491524206117255 5.50000000000001 L-37.491524206117255 -5.500000000000001 L-29.491524206117255 -5.500000000000002 A30 30 0 0 1 -24.742744050198738 -16.964569457146705 L-24.742744050198738 -16.964569457146705 L-30.399598299691117 -22.621423706639085 L-22.621423706639092 -30.399598299691117 L-16.964569457146712 -24.742744050198738 A30 30 0 0 1 -5.500000000000011 -29.491524206117255 L-5.500000000000011 -29.491524206117255 L-5.500000000000012 -37.491524206117255 L5.499999999999998 -37.491524206117255 L5.5 -29.491524206117255 A30 30 0 0 1 16.964569457146702 -24.74274405019874 L16.964569457146702 -24.74274405019874 L22.62142370663908 -30.39959829969112 L30.399598299691117 -22.6214237066391 L24.742744050198738 -16.964569457146716 A30 30 0 0 1 29.491524206117255 -5.500000000000013 M0 -20A20 20 0 1 0 0 20 A20 20 0 1 0 0 -20"}))))))},L=a(90),w=function(e){return l.a.createElement("div",null,e.message," ",l.a.createElement("div",null,l.a.createElement("button",null,"like"),l.a.createElement("span",null," ",e.likes)))},y=a(294),P=a.n(y),O=a(124),_=a(125),k=a(64),S=a(70),j=function(e){return l.a.createElement("form",{className:P.a.addPost,onSubmit:e.handleSubmit},l.a.createElement("p",null,"Add post"),l.a.createElement(O.a,{component:k.b,name:"post",validate:[S.a],placeholder:"Write your thoughts"}),l.a.createElement("button",null,"Add new"))},A=j=Object(_.a)({form:"addPost"})(j),x=l.a.memo((function(e){var t=e.profilePage.postsData.map((function(e){return l.a.createElement(w,{message:e.message,likes:e.likes,id:e.id,key:e.id})}));return l.a.createElement("div",{className:P.a.postsBlock},l.a.createElement("h2",null,"my posts"),l.a.createElement(A,{onSubmit:function(t){e.addPost(t.post)}}),l.a.createElement("div",{className:P.a.posts},t))})),N=a(13),I=Object(N.b)((function(e){return{profilePage:e.profilePage}}),{addPost:L.a})(x),C=a(46),D=function(e){return e.profile?l.a.createElement("div",{className:c.a.content},l.a.createElement(v,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),e.isOwner&&l.a.createElement(I,null)):l.a.createElement(C.a,null)},B=a(9),M=a(8),T=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"updateProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return l.a.createElement(D,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(l.a.Component);t.default=Object(M.d)(Object(N.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,id:e.auth.id}}),{getProfile:L.c,getStatus:L.d,updateStatus:L.f}),B.f)(T)}}]);
//# sourceMappingURL=3.0b9f6d8f.chunk.js.map