(this["webpackJsonpsocial-site"]=this["webpackJsonpsocial-site"]||[]).push([[3],{293:function(e,t,a){e.exports={ProfileInfo:"Profileinfo_ProfileInfo__2rKLf",logo:"Profileinfo_logo__iGagM",status:"Profileinfo_status__2w7Qr"}},294:function(e,t,a){e.exports={addPost:"Posts_addPost__1nbsT",posts:"Posts_posts__24Eqp",postsBlock:"Posts_postsBlock__NOCs4"}},296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(35),r=a(36),s=a(38),o=a(37),i=a(0),l=a.n(i),u=a(296),c=a.n(u),p=a(293),f=a.n(p),m=a(102),d=a.n(m);var h=a(101);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}}(e,t)||Object(h.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){var t=b(Object(i.useState)(!1),2),a=t[0],n=t[1],r=b(Object(i.useState)(e.status),2),s=r[0],o=r[1];return Object(i.useEffect)((function(){o(e.status)}),[e.status]),l.a.createElement("div",{className:f.a.status},a?l.a.createElement("div",null,l.a.createElement("textarea",{onChange:function(e){o(e.currentTarget.value)},type:"text",value:s,autoFocus:!0}),l.a.createElement("button",{onClick:function(){n(!1),e.updateStatus(s)}},"Save")):l.a.createElement("p",{onDoubleClick:e.isOwner&&function(){n(!0)}},e.isOwner?e.status?e.status:"Set your status":""))},v=function(e){return l.a.createElement("div",{className:f.a.ProfileInfo},l.a.createElement("div",{className:f.a.logo},l.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:d.a,alt:""})),l.a.createElement("div",{className:f.a.description},l.a.createElement(E,{status:e.status,isOwner:e.isOwner,updateStatus:e.updateStatus}),l.a.createElement("h2",null,e.profile.fullName)))},g=a(90),P=function(e){return l.a.createElement("div",null,e.message," ",l.a.createElement("div",null,l.a.createElement("button",null,"like"),l.a.createElement("span",null," ",e.likes)))},y=a(294),O=a.n(y),S=a(124),_=a(125),k=a(64),j=a(70),w=function(e){return l.a.createElement("form",{className:O.a.addPost,onSubmit:e.handleSubmit},l.a.createElement("p",null,"Add post"),l.a.createElement(S.a,{component:k.b,name:"post",validate:[j.a],placeholder:"Write your thoughts"}),l.a.createElement("button",null,"Add new"))},N=w=Object(_.a)({form:"addPost"})(w),I=l.a.memo((function(e){var t=e.profilePage.postsData.map((function(e){return l.a.createElement(P,{message:e.message,likes:e.likes,id:e.id,key:e.id})}));return l.a.createElement("div",{className:O.a.postsBlock},l.a.createElement("h2",null,"my posts"),l.a.createElement(N,{onSubmit:function(t){e.addPost(t.post)}}),l.a.createElement("div",{className:O.a.posts},t))})),x=a(13),C=Object(x.b)((function(e){return{profilePage:e.profilePage}}),{addPost:g.a})(I),A=a(46),D=function(e){return e.profile?l.a.createElement("div",{className:c.a.content},l.a.createElement(v,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),e.isOwner&&l.a.createElement(C,null)):l.a.createElement(A.a,null)},B=a(9),T=a(8),J=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"updateProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return l.a.createElement(D,Object.assign({},this.props,{isOwner:!this.props.match.params.userId}))}}]),a}(l.a.Component);t.default=Object(T.d)(Object(x.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,id:e.auth.id}}),{getProfile:g.c,getStatus:g.d,updateStatus:g.f}),B.f)(J)}}]);
//# sourceMappingURL=3.6670d235.chunk.js.map